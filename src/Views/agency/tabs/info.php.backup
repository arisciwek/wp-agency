<?php
/**
 * Agency Info Tab - Pure View Pattern
 *
 * @package     WP_Agency
 * @subpackage  Views/Agency/Tabs
 * @version     3.0.0
 * @author      arisciwek
 *
 * Path: /wp-agency/src/Views/agency/tabs/info.php
 *
 * Description: Pure HTML view for agency information tab.
 *              Direct template - no controller logic, no hooks, no partials.
 *              Follows true MVC View pattern.
 *
 * Pattern: Simple and Direct
 * - This file: Pure HTML template
 * - Variables: $agency passed directly from controller
 * - Scope: LOCAL (agency-* classes)
 *
 * Changelog:
 * 3.0.0 - 2025-10-28 (TODO-3084 Review-02)
 * - SIMPLIFIED: Merged with tab-info-content.php
 * - REMOVED: TabViewTemplate wrapper (controller-like logic)
 * - REMOVED: Hook-based content injection
 * - PATTERN: Pure MVC View - direct HTML template
 * - Single file per tab (no partials needed)
 *
 * 2.0.0 - 2025-10-27
 * - ARCHITECTURE: Migrated to TabViewTemplate pattern (hook-based)
 * - Uses wpapp_tab_view_content hook for content injection
 *
 * 1.0.0 - 2025-10-24
 * - Initial implementation
 */

defined('ABSPATH') || exit;

// $agency variable is passed from controller
if (!isset($agency)) {
    echo '<p>' . __('Data not available', 'wp-agency') . '</p>';
    return;
}
?>

<div class="agency-info-container">
    <div class="agency-info-section">
        <h3><?php _e('Informasi Umum', 'wp-agency'); ?></h3>
        <div class="agency-info-grid">
            <div class="agency-info-item">
                <span class="agency-info-label"><?php _e('Kode', 'wp-agency'); ?>:</span>
                <span class="agency-info-value"><?php echo esc_html($agency->code ?? '-'); ?></span>
            </div>
            <div class="agency-info-item">
                <span class="agency-info-label"><?php _e('Nama', 'wp-agency'); ?>:</span>
                <span class="agency-info-value"><?php echo esc_html($agency->name ?? '-'); ?></span>
            </div>
            <div class="agency-info-item">
                <span class="agency-info-label"><?php _e('Status', 'wp-agency'); ?>:</span>
                <span class="agency-info-value">
                    <?php
                    $status = $agency->status ?? 'inactive';
                    $badge_class = $status === 'active' ? 'success' : 'secondary';
                    $status_label = $status === 'active' ? __('Aktif', 'wp-agency') : __('Tidak Aktif', 'wp-agency');
                    ?>
                    <span class="wpapp-badge wpapp-badge-<?php echo esc_attr($badge_class); ?>">
                        <?php echo esc_html($status_label); ?>
                    </span>
                </span>
            </div>
        </div>
    </div>

    <div class="agency-info-section">
        <h3><?php _e('Lokasi', 'wp-agency'); ?></h3>
        <div class="agency-info-grid">
            <div class="agency-info-item">
                <span class="agency-info-label"><?php _e('Provinsi', 'wp-agency'); ?>:</span>
                <span class="agency-info-value"><?php echo esc_html($agency->provinsi_name ?? '-'); ?></span>
            </div>
            <div class="agency-info-item">
                <span class="agency-info-label"><?php _e('Kabupaten/Kota', 'wp-agency'); ?>:</span>
                <span class="agency-info-value"><?php echo esc_html($agency->regency_name ?? '-'); ?></span>
            </div>
        </div>
    </div>

    <div class="agency-info-section">
        <h3><?php _e('Metadata', 'wp-agency'); ?></h3>
        <div class="agency-info-grid">
            <div class="agency-info-item">
                <span class="agency-info-label"><?php _e('Dibuat', 'wp-agency'); ?>:</span>
                <span class="agency-info-value">
                    <?php
                    if (isset($agency->created_at)) {
                        echo esc_html(date_i18n(get_option('date_format') . ' ' . get_option('time_format'), strtotime($agency->created_at)));
                    } else {
                        echo '-';
                    }
                    ?>
                </span>
            </div>
            <div class="agency-info-item">
                <span class="agency-info-label"><?php _e('Diubah', 'wp-agency'); ?>:</span>
                <span class="agency-info-value">
                    <?php
                    if (isset($agency->updated_at)) {
                        echo esc_html(date_i18n(get_option('date_format') . ' ' . get_option('time_format'), strtotime($agency->updated_at)));
                    } else {
                        echo '-';
                    }
                    ?>
                </span>
            </div>
        </div>
    </div>
</div>
<!-- /agency-info-container -->
